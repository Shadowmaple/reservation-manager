<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <script src="../public/vue.global.js"></script>
    <link rel="stylesheet" type="text/css" href="index.css">
</head>

<body>
    <p id='header'>
        Home page
    </p>
    <!-- <a href="javascript:" onClick="window.open('http://www.bilibili.com')">布丁足迹</a> -->
    <hr>
    <p id='app'>
        <template v-if="showSearch">
            <div class="search-box">
                <input type="text" placeholder="输入课程名" id="input" v-model='key' @keyup.enter='clickSearch' />
                <button type="button" id="input-button" @click='clickSearch'>查找</button>
                <button type="button" id="add-button" @click='clickAdd'>添加新课程</button>
            </div>

            <div id='form-box' v-if="showForm">
                <div class="header-box">
                    <div style="width: 80px;height: 30px;">课程修改</div>
                    <img src="./image/close.png" class="close" @click.stop='clickCloseForm'></img>
                </div>
                <hr>
                <div id='form-body'>
                    <div class="form-item">
                        <label>课程名:</label>
                        <input type="text" v-model="putForm.name" />
                    </div>
                    <div class="form-item">
                        <label>教师名:</label>
                        <input type="text" v-model='putForm.teacher' />
                    </div>
                    <div class="form-item">
                        <label>开课时间:</label>
                        <input type="date" min="2017-01-01" max="2023-01-01" class="time" v-model='putForm.startTime' />
                    </div>
                    <div class="form-item">
                        <label>结课时间:</label>
                        <input type="date" min="2017-01-01" max="2023-01-01" class="time" v-model='putForm.endTime' />
                    </div>
                    <div class="form-item">
                        <label>积分数:</label>
                        <input type="number" v-model.number='putForm.price' />
                    </div>
                    <div class="form-item">
                        <label>课程简介:</label>
                        <textarea v-model='putForm.desc'></textarea>
                    </div>
                    <div class="form-item">
                        <label>图片地址:</label>
                        <input type="text" v-model="putForm.image" />
                    </div>
                </div>
                <button class="confirm" @click.stop='clickUpdateConfirm'>确认</button>
            </div>

        </template>
        <template v-for="(item, index) in list">
            <div class="item-box">
                <img :src="item.image" class='item-img'>
                <div class="item-info">
                    <div class='item-title'>{{ item.name }}</div>
                    <div>老师：{{ item.teacher }}</div>
                    <div>时间：{{ item.startTime }} ~ {{ item.endTime }}</div>
                    <div>预约人数：{{ item.currentNum }} / {{ item.total }}</div>
                    <div>简介：{{item.desc}}</div>
                </div>
                <div class="item-buttons">
                    <button type="button" id="update-button" @click='clickUpdate(item, $event)'>修改</button>
                    <button type="button" id="del-button" @click.stop='clickDel(item.id, index, $event)'>删除</button>
                </div>
            </div>
        </template>
    </p>

    <script src="./index.js"></script>
</body>

</html>